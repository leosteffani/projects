:- use_module(library(clpfd)).
n(1). %possiveis valores para os numero
n(2).
n(3).
n(4).
n(5).
n(6).
n(7).
n(8).
n(9).
maior(Ma,Me):- n(Ma),n(Me),Ma #> Me. %define que um numero deve ser maior que o outro
todosDiferentes([]).
todosDiferentes([H|T]) :- not(member(H,T)), todosDiferentes(T).
completa([X1, X2, X3, X4,X5,X6,X7, X8,X9]) :- %completa a matriz, confirmando que todos os elementos passados s√£o diferentes
	n(X1), n(X2), n(X3), n(X4),n(X5), n(X6), n(X7), n(X8), n(X9),
	todosDiferentes([X1, X2, X3, X4, X5, X6, X7, X8, X9]).

solucao(TabuleiroSolucao) :-
	TabuleiroSolucao = [ %matriz base da solucao
		[X00, X01, X02, X03, X04, X05, X06, X07, X08],
		[X10, X11, X12, X13, X14, X15, X16, X17, X18],
		[X20, X21, X22, X23, X24, X25, X26, X27, X28],
		[X30, X31, X32, X33, X34, X35, X36, X37, X38],
		[X40, X41, X42, X43, X44, X45, X46, X47, X48],
		[X50, X51, X52, X53, X54, X55, X56, X57, X58],
		[X60, X61, X62, X63, X64, X65, X66, X67, X68],
		[X70, X71, X72, X73, X74, X75, X76, X77, X78],
		[X80, X81, X82, X83, X84, X85, X86, X87, X88]
    ],
	
    %determina as relacoes entre os valores
    maior(X01,X00),
    maior(X01,X02),
    maior(X04,X03),
    maior(X05,X04),
    maior(X06,X07),
    maior(X07,X08),
    maior(X10,X11),
    maior(X12,X11),
    maior(X14,X13),
    maior(X15,X14),
    maior(X16,X17),
    maior(X18,X17),
    maior(X20,X21),
    maior(X22,X21),
    maior(X23,X24),
    maior(X25,X24),
    maior(X26,X27),
    maior(X28,X27),
    maior(X31,X30),
    maior(X31,X32),
    maior(X33,X34),
    maior(X35,X34),
    maior(X37,X36),
    maior(X37,X38),
    maior(X41,X40),
    maior(X41,X42),
    maior(X43,X44),
    maior(X45,X44),
    maior(X47,X46),
    maior(X47,X48),
    maior(X51,X50),
    maior(X51,X52),
    maior(X53,X54),
    maior(X54,X55),
    maior(X56,X57),
    maior(X58,X57),
    maior(X60,X61),
    maior(X62,X61),
    maior(X64,X63),
    maior(X65,X64),
    maior(X66,X67),
    maior(X68,X67),
    maior(X70,X71),
    maior(X71,X72),
    maior(X73,X74),
    maior(X74,X75),
    maior(X77,X76),
    maior(X77,X78),
    maior(X80,X81),
    maior(X81,X82),
    maior(X84,X83),
    maior(X84,X85),
    maior(X87,X86),
    maior(X88,X87),
    
    maior(X10,X00),
    maior(X10,X20),
    maior(X30,X40),
    maior(X50,X40),
    maior(X70,X60),
    maior(X70,X80),
    maior(X01,X11),
    maior(X21,X11),
    maior(X41,X31),
    maior(X41,X51),
    maior(X61,X71),
    maior(X71,X81),
    maior(X02,X12),
    maior(X22,X12),
    maior(X42,X32),
    maior(X42,X52),
    maior(X62,X72),
    maior(X82,X72),
    maior(X03,X13),
    maior(X23,X13),
    maior(X33,X43),
    maior(X53,X43),
    maior(X73,X63),
    maior(X73,X83),
    maior(X14,X04),
    maior(X14,X24),
    maior(X34,X44),
    maior(X54,X44),
    maior(X74,X64),
    maior(X84,X74),
    maior(X15,X05),
    maior(X15,X25),
    maior(X35,X45),
    maior(X45,X55),
    maior(X65,X75),
    maior(X85,X75),
    maior(X06,X16),
    maior(X26,X16),
    maior(X46,X36),
    maior(X46,X56),
    maior(X76,X66),
    maior(X86,X76),
    maior(X17,X07),
    maior(X27,X17),
    maior(X37,X47),
    maior(X47,X57),
    maior(X77,X67),
    maior(X87,X77),
    maior(X18,X08),
    maior(X28,X18),
    maior(X48,X38),
    maior(X58,X48),
    maior(X68,X78),
    maior(X88,X78),
    
    %completa as linhas
	completa([X00, X01, X02, X03, X04, X05, X06, X07, X08]),
	completa([X10, X11, X12, X13, X14, X15, X16, X17, X18]),
	completa([X20, X21, X22, X23, X24, X25, X26, X27, X28]),
	completa([X30, X31, X32, X33, X34, X35, X36, X37, X38]),
	completa([X40, X41, X42, X43, X44, X45, X46, X47, X48]),
	completa([X50, X51, X52, X53, X54, X55, X56, X57, X58]),
	completa([X60, X61, X62, X63, X64, X65, X66, X67, X68]),
	completa([X70, X71, X72, X73, X74, X75, X76, X77, X78]),
	completa([X80, X81, X82, X83, X84, X85, X86, X87, X88]),
    % completa ascolunas
	completa([X00, X10, X20, X30, X40, X50, X60, X70, X80]),
	completa([X01, X11, X21, X31, X41, X51, X61, X71, X81]),
	completa([X02, X12, X22, X32, X42, X52, X62, X72, X82]),
	completa([X03, X13, X23, X33, X43, X53, X63, X73, X83]),
	completa([X04, X14, X24, X34, X44, X54, X64, X74, X84]),
	completa([X05, X15, X25, X35, X45, X55, X65, X75, X85]),
	completa([X06, X16, X26, X36, X46, X56, X66, X76, X86]),
	completa([X07, X17, X27, X37, X47, X57, X67, X77, X87]),
	completa([X08, X18, X28, X38, X48, X58, X68, X78, X88]),
    %completa os setores
	completa([X00, X01, X02, X10, X11, X12, X20, X21, X22]),
	completa([X03, X04, X05, X13, X14, X15, X23, X24, X25]),
	completa([X06, X07, X08, X16, X17, X18, X26, X27, X28]),
	completa([X30, X31, X32, X40, X41, X42, X50, X51, X52]),
	completa([X33, X34, X35, X43, X44, X45, X53, X54, X55]),
	completa([X36, X37, X38, X46, X47, X48, X56, X57, X58]),
	completa([X60, X61, X62, X70, X71, X72, X80, X81, X82]),
	completa([X63, X64, X65, X73, X74, X75, X83, X84, X85]),
	completa([X66, X67, X68, X76, X77, X78, X86, X87, X88]).